# Вариант 25.
# Шеснадцатиричные четные числа, не превышающие 1024(в 10 сс) начинающиеся с нечетных цифр. Четные цифры выводить словами.
# Написать программу, решающую задачу из 1 лабораторной работы (в соответствии со своим вариантом) со следующими изменениями:
#    1. Входной файл является обыкновенным (т.е. нет требования на «бесконечность» файла);
#    2. Распознавание и обработку делать  через регулярные выражения;
#    3. В вариантах, где есть параметр (например К), допускается его заменить на любое число;
#    4. Все остальные требования соответствуют варианту задания лабораторной работы №1.

import re

digit_map = {'0': 'ноль', '2': 'два', '4': 'четыре', '6': 'шесть', '8': 'восемь', 'A': 'десять', 'C': 'двенадцать', 'E': 'четырнадцать'}
start_digits = set('13579BDF')
LIMIT = 1024  

lexeme_pattern = re.compile(r'\b[0-9A-Fa-f]+\b')

def is_suitable(lex: str) -> bool:
    up = lex.upper()
    if up[0] not in start_digits:
        return False
    if up[-1] not in '02468ACE':
        return False
    try:
        val = int(up, 16)
    except ValueError:
        return False
    return val <= LIMIT

def transform(lex: str) -> str:
    return ''.join(digit_map.get(c.upper(), c) for c in lex.upper())

def main(input_path: str = 'input.txt', limit: int = LIMIT):
    with open(input_path, 'r', encoding='utf-8') as f:
        data = f.read()
    for lex in lexeme_pattern.findall(data):
        if is_suitable(lex):
            print(transform(lex))

if __name__ == "__main__":
    main()
